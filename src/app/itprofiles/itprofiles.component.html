<table width=90% style="margin-left: 5%;margin-top:50px">
    <tr>
        <td width=20%>
            <img width=200 style="margin-left:5%"
                src="https://iisy.fi/wp-content/uploads/2018/08/user-profile-male-logo.jpg" height="200px">
        </td>
        <td>
            <div class="form-group col-md-12">
                <div class="form-row">
                    <div class="form-group col-md-8">
                        <label for="txt_name">Name:</label>
                        <input type="text" class="form-control" [disabled]="true"
                            [(ngModel)]="profile.first_name + ' ' + profile.second_name + ' ' + profile.first_lastname + ' ' + profile.second_lastname">
                    </div>
                    <div class="form-group col-md-2">
                        <label>Account:</label>
                        <input type="text" class="form-control" [disabled]='true' [(ngModel)]='employee.id_account'>
                    </div>
                    <div class="form-group col-md-2">
                        <label>Supervisor:</label>
                        <input type="text" class="form-control" [disabled]='true' [(ngModel)]="employee.reporter">
                    </div>
                </div>
                <div class="form-row">
                    <div class="form-group col-md-3">
                        <label for="txt_name">DPI:</label>
                        <input type="text" class="form-control" [disabled]="true" [(ngModel)]="profile.dpi">
                    </div>
                    <div class="form-group col-md-3">
                        <label for="txt_birth">Birthday:</label>
                        <input type="text" class="form-control" [disabled]="true" [(ngModel)]="profile.day_of_birth">
                    </div>
                    <div class="form-group col-md-3">
                        <label for="txt_nationality">Nationality:</label>
                        <input type="text" class="form-control" [disabled]="true" [(ngModel)]="profile.nationality">
                    </div>
                    <div class="form-group col-md-3">
                        <label>Joining Date:</label>
                        <input type="text" class="form-control" [disabled]="true" [(ngModel)]="employee.hiring_date">
                    </div>
                </div>
            </div>
        </td>
    </tr>

    <tr style="border-bottom: solid 4px #e3f2fd;">
        <td colspan="2" style="padding-top:30px">
            <nav width=100% style="border-top: 4px solid #e3f2fd;">
                <div class="nav nav-tabs active" id="nav-tab" role="tablist" width=100% style="padding-top:15px">
                    <a class="nav-item nav-link active" id="nav-inventory-tab" data-toggle="tab" href="#nav-inventory"
                        role="tab" aria-controls="nav-inventory" aria-selected="false">Inventory</a>
                    <a class="nav-item nav-link" id="nav-contact-tab" data-toggle="tab" href="#nav-contact" role="tab"
                        aria-controls="nav-contact" aria-selected="false">Contact</a>
                    <a class="nav-item nav-link" id="nav-emergency-tab" data-toggle="tab" href="#nav-emergency"
                        role="tab" aria-controls="nav-emergency" aria-selected="false">Emergency</a>
                    <a class="nav-item nav-link" id="nav-medical-tab" data-toggle="tab" href="#nav-medical" role="tab"
                        aria-controls="nav-medical" aria-selected="false">Medical</a>
                </div>
            </nav>

            <div class="tab-content" id="nav-tabContent">
                <div class="tab-pane fade show active" id="nav-inventory" role="tabpanel"
                    aria-labelledby="nav-inventory-tab">
                    <div class="row col-md-12" style="margin-top:20px">
                        <div class="col-md-2"></div>
                        <div class="col-md-8 d-flex justify-content-center">
                            <label style="font-size: 16px; font-weight: bolder;">ASSIGNATIONS</label>
                        </div>
                        <div class="col-md-2"></div>
                    </div>
                    <div class="row col-md-12">
                        <div class="col-md-1"></div>
                        <div class="col-md-10 border border-secondary form-control"
                            style="min-height:256px;max-height: 256px;overflow:auto;padding:0px;margin:0px">
                            <table style="width:100%;padding:0px;margin:0px"
                                class="table table-striped table-hover table_custom">
                                <thead>
                                    <th>CODE</th>
                                    <th>TYPE</th>
                                    <th>SERIAL</th>
                                </thead>
                                <tbody>
                                    <tr *ngFor='let asset of assigned_assets'
                                        [ngClass]="{'selected_row':asset.active_selection}" (click)="applySelection(asset)"
                                        (dblclick)="showAsset(asset)">
                                        <td>{{asset.code}}</td>
                                        <td>{{asset.type}}</td>
                                        <td>{{asset.serial}}</td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>
                        <div class="col-md-1"></div>
                    </div>
                    <div class="row col-md-12" style="margin-top:10px">
                        <div class="col-md-1"></div>
                        <div class="col-md-10 d-flex justify-content-end">
                            <button class="btn btn-outline-secondary" style="margin-left:10px" [disabled]="!disable_add" data-toggle="modal" data-target="#unassignModal"><i
                                    class="fas fa-minus"></i></button>
                            <button class="btn btn-outline-success" style="margin-left:10px" [disabled]="disable_add" (click)="addAssignation()" 
                                    data-toggle="modal" data-target="#showAssignation"><i class="fas fa-plus"></i></button>
                        </div>
                        <div class="col-md-1"></div>
                    </div>
                </div>
                <div class="tab-pane fade" id="nav-contact" role="tabpanel" aria-labelledby="nav-contact-tab">
                    <div class="form-row" style="margin-top:30px">
                        <div class="form-group col-md-12">
                            <div class="form-row">
                                <div class="form-group col-md-6">
                                    <label for="txt_primary_phone">Primary Phone Number:</label>
                                    <input type="text" class="form-control" [(ngModel)]="profile.primary_phone"
                                        [disabled]="true">
                                </div>
                                <div class="form-group col-md-6">
                                    <label for="txt_secondary_phone">Secondary Phone Number:</label>
                                    <input type="text" class="form-control" [(ngModel)]="profile.secondary_phone"
                                        [disabled]="true">
                                </div>
                            </div>
                            <div class="form-row">
                                <div class="form-group col-md-4">
                                    <label for="txt_address">Address:</label>
                                    <input type="text" class="form-control" [(ngModel)]="profile.address"
                                        [disabled]="true">
                                </div>
                                <div class="form-group col-md-4">
                                    <label for="txt_city">City:</label>
                                    <input type="text" class="form-control" [(ngModel)]="profile.city"
                                        [disabled]="true">
                                </div>
                                <div class="form-group col-md-4">
                                    <label for="txt_email">Email Address:</label>
                                    <input type="text" class="form-control" [(ngModel)]="profile.email"
                                        [disabled]="true">
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="tab-pane fade" id="nav-emergency" role="tabpanel" aria-labelledby="nav-emergency-tab">
                    <div class="form-group col-md-12">
                        <div class="form-row">
                            <div class="form-group col-md-6">
                                <label for="txt_emergency_fristName">Contact's First Name:</label>
                                <input type="text" class="form-control" [(ngModel)]="profile.emergency_first_name"
                                    [disabled]="true">
                            </div>
                            <div class="form-group col-md-6">
                                <label for="txt_emergency_secondName">Contact's Middle Name:</label>
                                <input class="text" class="form-control" [(ngModel)]="profile.emergency_second_name"
                                    [disabled]="true">
                            </div>
                        </div>
                        <div class="form-row">
                            <div class="form-group col-md-6">
                                <label for="txt_emergency_lastname">Contact's First Lastname:</label>
                                <input type="text" class="form-control" [(ngModel)]="profile.emergency_first_lastname"
                                    [disabled]="true">
                            </div>
                            <div class="form-group col-md-6">
                                <label for="txt_emergency_secondLastname">Contact's Second Lastname:</label>
                                <input type="text" class="form-control" [(ngModel)]="profile.emergency_second_lastname"
                                    [disabled]="true">
                            </div>
                        </div>
                        <div class="form-row">
                            <div class="form-group col-md-6">
                                <label for="txt_emergency_phone">Phone Number:</label>
                                <input type="text" class="form-control" [(ngModel)]="profile.phone" [disabled]="true">
                            </div>
                            <div class="form-group col-md-6">
                                <label for="txt_emergency_relationship">Relationship</label>
                                <input type="text" class="form-control" [(ngModel)]="profile.relationship"
                                    [disabled]="true">
                            </div>
                        </div>
                    </div>
                </div>

                <div class="tab-pane fade" id="nav-medical" role="tabpanel" aria-labelledby="nav-medical-tab">
                    <div class="form-group col-md-12">
                        <div class="form-row">
                            <div class="form-group col-md-12">
                                <label for="txt_medical_treatment">Medical Treatment:</label>
                                <input type="text" class="form-control" [(ngModel)]="profile.medical_treatment"
                                    [disabled]="true">
                            </div>
                        </div>
                        <div class="form-row">
                            <div class="form-group col-md-12">
                                <label for="txt_medical_condition">Medical Prescription</label>
                                <input type="text" class="form-control" [(ngModel)]="profile.medical_prescription"
                                    [disabled]="true">
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </td>
    </tr>
</table>
<button hidden="ture" data-toggle="modal" data-target="#showAsset" id='shownAssetBtn'></button>
<!--------------------------------------------------------------------- SHOW ASSET MODAL ---------------------------------------------------------------------------->
<div class="modal fade" id="showAsset" tabindex="-1" role="dialog" aria-labelledby="showAsset" aria-hidden="true">
    <div class="modal-dialog modal-dialog-centered modal-lg" role="document">
        <div class="modal-content">
            <div class="modal-header d-flex justify-content-center">
                <h5 class="modal-title" id="showAssetLabel"
                    style="font-weight:bold; text-align: center; font-size: 18px; text-align: center;">ASSET DETAILS
                </h5>
                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true">&times;</span>
                </button>
            </div>
            <div class="modal-body" style="padding:5px">
                <div class="row col-md-12">
                    <div class="col-md-3">
                        <label>CODE:</label>
                        <input type="text" class="form-control" disabled='true' [(ngModel)]="shown_asset.code">
                    </div>
                    <div class="col-md-3">
                        <label>BRAND:</label>
                        <input type="text" class="form-control" disabled='true' [(ngModel)]="shown_asset.brand">
                    </div>
                    <div class="col-md-3">
                        <label>MODEL:</label>
                        <input type="text" class="form-control" disabled='true' [(ngModel)]="shown_asset.model">
                    </div>
                    <div class="col-md-3">
                        <label>SERIAL:</label>
                        <input type="text" class="form-control" disabled='true' [(ngModel)]="shown_asset.serial">
                    </div>
                </div>
                <div class="row col-md-12">
                    <div class="col-md-12">
                        <label>NOTES:</label>
                        <textarea class="form-control" width="100%" [(ngModel)]="shown_asset.notes"
                            #message='ngModel' [disabled]="true"></textarea>
                    </div>
                </div>
                <div class="row col-md-12">
                    <div class="col-md-4">
                        <label>USER:</label>
                        <input type="text" class="form-control" disabled='true' [(ngModel)]="shown_asset.user_name">
                    </div>
                    <div class="col-md-4">
                        <label>TYPE:</label>
                        <input type="text" class="form-control" disabled='true' [(ngModel)]="shown_asset.movement">
                    </div>
                    <div class="col-md-4">
                        <label>DATE:</label>
                        <input type="text" class="form-control" disabled='true' [(ngModel)]="shown_asset.date">
                    </div>
                </div>
            </div>
            <div class="modal-footer" style="margin-top:25px">
                <div class="d-flex w-100 justify-content-center">
                    <button class="btn btn-outline-secondary" data-dismiss="modal">Close</button>
                </div>
            </div>
        </div>
    </div>
</div>

<!--------------------------------------------------------------------- ADD ASSET MODAL ---------------------------------------------------------------------------->
<div class="modal fade" id="showAssignation" tabindex="-1" role="dialog" aria-labelledby="showAssignation" aria-hidden="true">
    <div class="modal-dialog modal-dialog-centered modal-lg" role="document">
        <div class="modal-content">
            <div class="modal-header d-flex justify-content-center">
                <h5 class="modal-title" id="showAssignationLabel"
                    style="font-weight:bold; text-align: center; font-size: 18px; text-align: center;">ASSET DETAILS
                </h5>
                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true">&times;</span>
                </button>
            </div>
            <div class="modal-body" style="padding:5px">
                <div class="row col-md-12" style="margin-top:15px">
                    <div class="col-md-4"></div>
                    <div class="col-md-4">
                        <input type="text" class="form-control" (keydown)="filterAssets()" [(ngModel)]="assetSearch">
                    </div>
                    <div class="col-md-4"></div>
                </div>
                <div class="row col-md-12" style="margin-top:15px">
                    <div class="col-md-1"></div>
                    <div class="col-md-10 border border-secondary" style="min-height: 150px;max-height: 150px;overflow:auto;">
                        <table class="table table-striped table-hover table_custom">
                            <thead>
                                <th>CODE</th>
                                <th>SERIAL</th>
                                <th>BRAND</th>
                                <th>TYPE</th>
                            </thead>
                            <tbody>
                                <tr *ngFor='let asset of assets_filtered' [ngClass]="{'selected_row':asset.selected}" (click)="activeSelection(asset)">
                                    <td>{{asset.code}}</td>
                                    <td>{{asset.serial}}</td>
                                    <td>{{asset.brand}}</td>
                                    <td>{{asset.type_name}}</td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div class="col-md-1"></div>
                </div>
                <div class="row col-md-12" style="margin-top:15px;">
                    <div class="col-md-1"></div>
                    <div class="col-md-10">
                        <label>NOTES:</label>
                        <textarea class="form-control" width="100%" [(ngModel)]="shown_asset.notes"
                            #message='ngModel'></textarea>
                    </div>
                    <div class="col-md-1"></div>
                </div>
                <div class="row col-md-12" style="margin-top:15px;">
                    <div class="col-md-4">
                        <label>USER:</label>
                        <input type="text" class="form-control" disabled='true' [(ngModel)]="shown_asset.user_name">
                    </div>
                    <div class="col-md-4">
                        <label>TYPE:</label>
                        <select class="form-control" [(ngModel)]="shown_asset.movement">
                            <option *ngFor="let option of movement_options" [value]="option.idmovement_types">{{option.name}}</option>
                        </select>
                    </div>
                    <div class="col-md-4">
                        <label>DATE:</label>
                        <input type="text" class="form-control" disabled='true' [(ngModel)]="shown_asset.date">
                    </div>
                </div>
            </div>
            <div class="modal-footer" style="margin-top:25px">
                <div class="d-flex w-100 justify-content-between">
                    <button class="btn btn-outline-secondary" data-dismiss="modal">Close</button>
                    <button class="btn btn-outline-primary" data-dismiss="modal" (click)="saveAssignation()">Save</button>
                </div>
            </div>
        </div>
    </div>
</div>
<!--------------------------------------------------------------------------------- UNASSIGN MODAL----------------------------------------------------------------------------->
<div class="modal fade" id="unassignModal" tabindex="-1" role="dialog" aria-labelledby="unassignModal"
    aria-hidden="true">
    <div class="modal-dialog" role="document">
        <div class="modal-content">
            <div class="modal-header d-flex justify-content-center">
                <h5 class="modal-title" id="unassignModalLabel">UNASSIGN ASSETS</h5>
            </div>
            <div class="modal-body">
                <div class="row col-md-12">
                    <div class="col-md-3"></div>
                    <div class="col-md-6">
                        <label>REASON:</label>
                        <select class="form-control" [(ngModel)]="unassignReason">
                            <option [value]='2'>REPLACEMENT</option>
                            <option [value]='3'>DAMAGED</option>
                        </select>
                    </div>
                    <div class="col-md-3"></div>
                </div>
            </div>
            <div class="modal-footer d-flex justify-content-between">
                <button class="btn btn-outline-secondary" data-dismiss="modal">Close</button>
                <button class="btn btn-outline-primary" data-dismiss="modal" (click)="applyUnassignation()">Apply</button>
            </div>
        </div>
    </div>
</div>
<!---------------------------------------------------------------------------------- ALERT MODAL------------------------------------------------------------------------------>
<button hide=true data-target="#alertModal" data-toggle="modal" id='dispay_alert'></button>
<!---------------------------------------------------------------------------------- ALERT MODAL ------------------------------------------------------------------------------>
<div class="modal fade" id="alertModal" tabindex="-1" role="dialog" aria-labelledby="fileUploadLabel"
    aria-hidden="true">
    <div class="modal-dialog" role="document">
        <div class="modal-content">
            <div class="modal-header d-flex justify-content-center">
                <h5 class="modal-title" id="fileUploadLabel">{{alert.header}}</h5>
            </div>
            <div class="modal-body">
                <label>{{alert.content}}</label>
            </div>
            <div class="modal-footer d-flex justify-content-center">
                <button class="btn btn-outline-secondary" data-dismiss="modal">Close</button>
            </div>
        </div>
    </div>
</div>
