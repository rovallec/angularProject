<table width=90% style="margin-left: 5%;margin-top:50px">
    <tr>
        <td width=20%>
            <img width=200 style="margin-left:5%"
                src="https://iisy.fi/wp-content/uploads/2018/08/user-profile-male-logo.jpg" height="200px">
        </td>
        <td>
            <div class="form-group col-md-12">
                <div class="form-row">
                    <div class="form-group col-md-8">
                        <label for="txt_name">Name:</label>
                        <input type="text" class="form-control" [disabled]="true"
                            [(ngModel)]="profile.first_name + ' ' + profile.second_name + ' ' + profile.first_lastname + ' ' + profile.second_lastname">
                    </div>
                    <div class="form-group col-md-2">
                        <label>Account:</label>
                        <input type="text" class="form-control" [disabled]='true' [(ngModel)]='employee.account'>
                    </div>
                    <div class="form-group col-md-2">
                        <label>Supervisor:</label>
                        <input type="text" class="form-control" [disabled]='true' [(ngModel)]="employee.user_name">
                    </div>
                </div>
                <div class="form-row">
                    <div class="form-group col-md-3">
                        <label for="txt_name">DPI:</label>
                        <input type="text" class="form-control" [disabled]="true" [(ngModel)]="profile.dpi">
                    </div>
                    <div class="form-group col-md-3">
                        <label for="txt_birth">Birthday:</label>
                        <input type="text" class="form-control" [disabled]="true" [(ngModel)]="profile.day_of_birth">
                    </div>
                    <div class="form-group col-md-3">
                        <label for="txt_nationality">Client ID:</label>
                        <input type="text" class="form-control" [disabled]="true" [(ngModel)]="employee.client_id">
                    </div>
                    <div class="form-group col-md-3">
                        <label>Joining Date:</label>
                        <input type="text" class="form-control" [disabled]="true" [(ngModel)]="employee.hiring_date">
                    </div>
                </div>
            </div>
        </td>
    </tr>

    <tr style="border-bottom: solid 4px #e3f2fd;">
        <td colspan="2" style="padding-top:30px" *ngIf="!newProc">
            <nav width=100% style="border-top: 4px solid #e3f2fd;">
                <div class="nav nav-tabs" id="nav-tab" role="tablist" width=100% style="padding-top:15px">
                    <a class="nav-item nav-link active" id="nav-attendance-tab" data-toggle="tab" href="#nav-attendance"
                        role="tab" aria-controls="nav-attendance" aria-selected="true">Attendance</a>
                    <a class="nav-item nav-link" id="nav-contact-tab" data-toggle="tab" href="#nav-contact" role="tab"
                        aria-controls="nav-contact" aria-selected="false">Contact</a>
                    <a class="nav-item nav-link" id="nav-emergency-tab" data-toggle="tab" href="#nav-emergency"
                        role="tab" aria-controls="nav-emergency" aria-selected="false">Emergency</a>
                    <a class="nav-item nav-link" id="nav-medical-tab" data-toggle="tab" href="#nav-medical" role="tab"
                        aria-controls="nav-medical" aria-selected="false">Medical</a>
                </div>
            </nav>

            <div class="tab-content" id="nav-tabContent">
                <div class="tab-pane fade" id="nav-contact" role="tabpanel" aria-labelledby="nav-contact-tab">
                    <div class="form-row" style="margin-top:30px">
                        <div class="form-group col-md-12">
                            <div class="form-row">
                                <div class="form-group col-md-6">
                                    <label for="txt_primary_phone">Primary Phone Number:</label>
                                    <input type="text" class="form-control" [(ngModel)]="profile.primary_phone"
                                        [disabled]="true">
                                </div>
                                <div class="form-group col-md-6">
                                    <label for="txt_secondary_phone">Secondary Phone Number:</label>
                                    <input type="text" class="form-control" [(ngModel)]="profile.secondary_phone"
                                        [disabled]="true">
                                </div>
                            </div>
                            <div class="form-row">
                                <div class="form-group col-md-4">
                                    <label for="txt_address">Address:</label>
                                    <input type="text" class="form-control" [(ngModel)]="profile.address"
                                        [disabled]="true">
                                </div>
                                <div class="form-group col-md-4">
                                    <label for="txt_city">City:</label>
                                    <input type="text" class="form-control" [(ngModel)]="profile.city"
                                        [disabled]="true">
                                </div>
                                <div class="form-group col-md-4">
                                    <label for="txt_email">Email Address:</label>
                                    <input type="text" class="form-control" [(ngModel)]="profile.email"
                                        [disabled]="true">
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="tab-pane fade" id="nav-emergency" role="tabpanel" aria-labelledby="nav-emergency-tab">
                    <div class="form-group col-md-12">
                        <div class="form-row">
                            <div class="form-group col-md-6">
                                <label for="txt_emergency_fristName">Contact's First Name:</label>
                                <input type="text" class="form-control" [(ngModel)]="profile.emergency_first_name"
                                    [disabled]="true">
                            </div>
                            <div class="form-group col-md-6">
                                <label for="txt_emergency_secondName">Contact's Middle Name:</label>
                                <input class="text" class="form-control" [(ngModel)]="profile.emergency_second_name"
                                    [disabled]="true">
                            </div>
                        </div>
                        <div class="form-row">
                            <div class="form-group col-md-6">
                                <label for="txt_emergency_lastname">Contact's First Lastname:</label>
                                <input type="text" class="form-control" [(ngModel)]="profile.emergency_first_lastname"
                                    [disabled]="true">
                            </div>
                            <div class="form-group col-md-6">
                                <label for="txt_emergency_secondLastname">Contact's Second Lastname:</label>
                                <input type="text" class="form-control" [(ngModel)]="profile.emergency_second_lastname"
                                    [disabled]="true">
                            </div>
                        </div>
                        <div class="form-row">
                            <div class="form-group col-md-6">
                                <label for="txt_emergency_phone">Phone Number:</label>
                                <input type="text" class="form-control" [(ngModel)]="profile.phone" [disabled]="true">
                            </div>
                            <div class="form-group col-md-6">
                                <label for="txt_emergency_relationship">Relationship</label>
                                <input type="text" class="form-control" [(ngModel)]="profile.relationship"
                                    [disabled]="true">
                            </div>
                        </div>
                    </div>
                </div>
                <div class="tab-pane fade show active" id="nav-attendance" role="tabpanel"
                    aria-labelledby="nav-attendance-tab">
                    <div class="row col-md-12" style="margin-top:15px" *ngIf="showRegs">
                        <div class="col-md-4">
                            <div class="row col-md-12">
                                <label
                            style="font-size: 20px; font-weight: bold; margin-left:45%;margin-top: 10px;">Vacations</label>
                            </div>
                            <div class="row col-md-12">
                                <table style="width: 100;" class="table table-striped table-hover"
                                style="width: 100%;text-align:center">
                                <thead>
                                    <th>DATE</th>
                                    <th>USER</th>
                                    <th>ACTOIN</th>
                                </thead>
                                <tbody>
                                    <tr *ngFor="let vac of vacations"
                                        [ngClass]="{'table-danger': vac.action === 'overlap'}">
                                        <td>{{vac.took_date}}</td>
                                        <td>{{vac.id_user}}</td>
                                        <td style="padding: 0px;">
                                            <select [(ngModel)]="vac.status"
                                                style="height:20px; width:100px;     border: 1px solid #3e3e3e;
                                            border-radius: 5px 5px 5px 5px;
                                            box-shadow: 0 0 10px #E8E8E8 inset;  padding: 2px;   background: none repeat scroll 0 0 #FFFFFF;" (change)="setState_vac(vac)" [disabled]="vac.status == 'COMPLETED'">
                                                <option>COMPLETED</option>
                                                <option>PENDING</option>
                                                <option>DISMISSED</option>
                                            </select>
                                        </td>
                                    </tr>
                                </tbody>
                            </table>
                            </div>
                        </div>
                        <div class="col-md-4">
                            <div class="row col-md-12">
                                <label
                            style="font-size: 20px; font-weight: bold; margin-left:50%;margin-top: 10px;">LEAVES</label>
                            </div>
                            <div class="row col-md-12">
                                <table style="width: 100;" class="table table-striped table-hover"
                                style="width: 100%;text-align:center">
                                <thead>
                                    <th>START</th>
                                    <th>END</th>
                                    <th>USER</th>
                                    <th>ACTION</th>
                                </thead>
                                <tbody>
                                    <tr *ngFor="let leave of leaves"
                                        [ngClass]="{'table-danger': leave.approved_by === 'overlap'}">
                                        <td>{{leave.start}}</td>
                                        <td>{{leave.end}}</td>
                                        <td>{{leave.motive}}</td>
                                        <td style="padding: 0px;">
                                            <select [(ngModel)]="leave.status"
                                                style="height:20px; width:100px;     border: 1px solid #3e3e3e;
                                            border-radius: 5px 5px 5px 5px;
                                            box-shadow: 0 0 10px #E8E8E8 inset;  padding: 2px;   background: none repeat scroll 0 0 #FFFFFF;" (change)="setState_leave(leave)" [disabled]="leave.status == 'COMPLETED'">
                                                <option>COMPLETED</option>
                                                <option>PENDING</option>
                                                <option>DISMISSED</option>
                                            </select>
                                        </td>
                                    </tr>
                                </tbody>
                            </table>
                            </div>
                        </div>
                        <div class="col-md-4">
                            <div class="row col-md-12">
                                <label
                            style="font-size: 20px; font-weight: bold; margin-left:40%;margin-top: 10px;">SUSPENSIONS</label>
                            </div>
                            <div class="row col-md-12">
                                <table style="width: 100;" class="table table-striped table-hover"
                                style="width: 100%;text-align:center">
                                <thead>
                                    <th>DATE 1</th>
                                    <th>DATE 2</th>
                                    <th>DATE 3</th>
                                    <th>DATE 4</th>
                                </thead>
                                <tbody>
                                    <tr *ngFor="let dp of dps"
                                        [ngClass]="{'table-danger': dp.requested_by === 'overlap'}">
                                        <td><input type="date" class="form-control" [(ngModel)]="dp.day_1" style="padding:0px"></td>
                                        <td><input type="date" class="form-control" [(ngModel)]="dp.day_2" style="padding:0px"></td>
                                        <td><input type="date" class="form-control" [(ngModel)]="dp.day_3" style="padding:0px"></td>
                                        <td><input type="date" class="form-control" [(ngModel)]="dp.day_4" style="padding:0px"></td>
                                    </tr>
                                </tbody>
                            </table>
                            </div>
                        </div>
                    </div>
                    <div class="row col-md-12" style="margin-top:15px" *ngIf="!showRegs">
                        <div class="col-md-2"></div>
                        <div class="col-md-8">
                            <table style="width: 100;" class="table table-striped table-hover"
                                style="width: 100%;text-align:center">
                                <thead style="text-align:center;">
                                    <th>DATE</th>
                                    <th>ROSTER</th>
                                    <th>ATTENDED</th>
                                    <th>BALANCE</th>
                                </thead>
                                <tbody>
                                    <tr *ngFor="let att of attendances" class="selectable" (click)="showReg(att)"
                                        [ngClass]="{'table-danger': att.status === 'overlap'}">
                                        <td>{{att.date}}</td>
                                        <td>{{att.scheduled}}</td>
                                        <td>{{att.worked_time}}</td>
                                        <td>{{att.balance}}</td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>
                        <div class="col-md-2"></div>
                    </div>

                    <div class="form-row col-md-12" style="text-align:center;">
                        <div class="form-group col-md-2">
                            <label>DAYS OFF</label>
                            <input type="text" class="form-control" [disabled]="true" [(ngModel)]="daysOff">
                        </div>
                        <div class="form-group col-md-2">
                            <label>ROSTER</label>
                            <input type="text" class="form-control" [disabled]="true" [(ngModel)]="roster">
                        </div>
                        <div class="form-group col-md-2">
                            <label>ATTENDED</label>
                            <input type="text" class="form-control" [disabled]="true" [(ngModel)]="attended">
                        </div>
                        <div class="form-group col-md-2">
                            <label>DIFF</label>
                            <input type="text" class="form-control" [disabled]="true" [(ngModel)]="diff">
                        </div>
                        <div class="form-group col-md-2">
                            <label>DISCOUNTED</label>
                            <input type="text" class="form-control" [disabled]="true" [(ngModel)]="absence_fixed">
                        </div>
                        <div class="form-group col-md-2">
                            <label>SEVENTH</label>
                            <input type="text" class="form-control" [disabled]="true" [(ngModel)]="seventh">
                        </div>
                    </div>

                    <div class="row col-md-12" *ngIf="showRegs" style="margin-bottom: 25px; margin-top: 10px;">
                        <div class="col-md-5"></div>
                        <div class="col-md-2">
                            <button class="form-control" (click)="cancelView()">Return</button>
                        </div>
                        <div class="col-md-5"></div>
                    </div>
                </div>
            </div>
        </td>
        <!--------------------------------------------------------------------------- PROCESSES ---------------------------------------------------------------------->
        <td colspan="2" style="padding-top:30px" *ngIf="newProc">
            <nav width=100% style="border-top: 4px solid #e3f2fd;">
                <div class="nav nav-tabs" id="nav-tb" role="tablist" width=100% style="padding-top:15px">
                    <a class="nav-item nav-link active" id="nav-newproc-tab" data-toggle="tab" href="#nav-newproc"
                        role="tab" aria-controls="nav-newproc" aria-selected="true"><i class="fas fa-arrow-circle-left"
                            (click)="cancelView()"></i> {{activeProc.name}}</a>
                </div>
            </nav>
            <div class="tab-content" id="nav-tabContent">
                <div class="tab-pane fade show active" id="nav-newproc" role="tabpanel"
                    aria-labelledby="nav-newproc-tab">
                    <div class="form-row col-md-12" *ngIf="activeProc.name == 'Client ID Change'">
                        <div class="form-row col-md-12">
                            <div class="form-group col-md-5"></div>
                            <div class="form-group col-md-2">
                                <label>New ID:</label>
                                <input type="text" class="form-control" [(ngModel)]="activeChangeID.new_id">
                            </div>
                            <div class="form-group col-md-5"></div>
                        </div>
                        <div class="form-row col-md-12">
                            <div class="form-group col-md-4">
                                <label>Date:</label>
                                <input type="text" class="form-control" [disabled]="true"
                                    [(ngModel)]="activeChangeID.date">
                            </div>
                            <div class="form-group col-md-4">
                                <label>User:</label>
                                <input type="text" class="form-control" [disabled]="true"
                                    [(ngModel)]="activeChangeID.id_user">
                            </div>
                            <div class="form-group col-md-4">
                                <label>Status:</label>
                                <input type="text" class="form-control" [disabled]="true"
                                    [(ngModel)]="activeChangeID.proc_status">
                            </div>
                        </div>
                        <div class="form-row col-md-12" *ngIf="!viewRecProd">
                            <div class="form-group col-md-2">
                                <button class="form-control" (click)="cancelView()">Cance</button>
                            </div>
                            <div class="form-group col-md-8"></div>
                            <div class="form-group col-md-2">
                                <button class="form-control" (click)="insertProc()">Accept</button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </td>
    </tr>
    <!--------------------------------------------------------------------------- TEMPLATES ---------------------------------------------------------------------->
    <tr>
        <td colspan="2" style="padding-top:20px">

            <table width="100%" *ngIf="newProcess">
                <tr width="100%">
                    <td
                        style="padding:6px; background-color:rgb(227, 239, 255); border-style:solid; border-width: 1px; border-color:rgb(173, 199, 255); height: 15px;">
                        <b>New Action</b><i class="fas fa-arrow-circle-left" style="margin-left: 90%"
                            (click)="return()"></i>
                </tr>
                <tr>
                    <td
                        style="padding:15px; background-color:rgb(239, 246, 255);border-color:rgb(187, 208, 255);border-style: solid; border-width: 1px">
                        <table class="table table-striped table-hover selectable"
                            style="text-align: center; margin-top:20px" width=100%>
                            <thead>
                                <th>ID</th>
                                <th>NAME</th>
                                <th>DESCRIPTION</th>
                            </thead>
                            <tbody>
                                <tr *ngFor="let prc of processes_template" (click)="setProcess(prc)">
                                    <td>{{prc.idprocesses}}</td>
                                    <td>{{prc.name}}</td>
                                    <td>{{prc.descritpion}}</td>
                                </tr>
                            </tbody>
                        </table>
                    </td>
                </tr>
            </table>

            <table width="100%" *ngIf="!newProcess">
                <tr width="100%">
                    <td
                        style="padding:6px; background-color:rgb(227, 239, 255); border-style:solid; border-width: 1px; border-color:rgb(173, 199, 255); height: 15px;">
                        <b>Action Log</b><i class="fas fa-plus-square" style="margin-left: 90%"
                            (click)="addProcess()"></i>
                </tr>
                <tr>
                    <td
                        style="padding:15px; background-color:rgb(239, 246, 255);border-color:rgb(187, 208, 255);border-style: solid; border-width: 1px">
                        <table class="table table-striped table-hover selectable"
                            style="text-align: center; margin-top:20px" width=100%>
                            <thead>
                                <th>ID</th>
                                <th>Activivity</th>
                                <th>User</th>
                                <th>Status</th>
                            </thead>
                            <tbody>
                            </tbody>
                        </table>
                    </td>
                </tr>
            </table>
        </td>
    </tr>
</table>